#!/usr/bin/env sh

# 1. è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥ï¼ˆå¦‚æœæš‚å­˜åŒºæœ‰ .ts æ–‡ä»¶ï¼‰
if git diff --cached --name-only | grep -q '\.ts$'; then
  echo "ğŸ” Running TypeScript type check..."
  bun run type-check || exit 1
fi

# 2. è¿è¡Œ lint-stagedï¼ˆä»£ç é£æ ¼æ£€æŸ¥ï¼‰
bunx lint-staged || exit 1